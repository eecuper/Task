function TouchScroll(n){this.cfg=this.parseArgs(n),this.container=typeof this.cfg.id=="string"?this.$(this.cfg.id):this.cfg.id;try{if(!this.container)throw new Error("Can't find element");for(var t=0,i=this.instances.length;t<i;t++)if(this.instances[t]==this.container)throw new Error("An instance has being running!");this.instances.push(this.container),this.setup()}catch(r){this.error=r.message}}function think(n,t){mo=this,typeof t=="undefined"&&(t=32),mo.h=t,mo.inputBox=n,mo.init()}function reset(){window.m_search_txt.value="",window.m_search_reset.style.display="none",window.m_search_txt.focus();var n=document.getElementById("ui-input-mask");n.style.display!="none"&&(n.style.display="none")}function validate(){window.m_search_txt.value?window.m_search_txt.value!=""&&window.m_search_txt.value!="请输入关键字"?window.m_search_reset.style.display="block":(window.m_search_reset.style.display="none",window.m_search_txt.value="请输入关键字"):window.m_search_reset.style.display="none"}function autoComplete(){var r="",f=["wz","bm","cf"][t],n=window.m_search_txt.value.replace(/[ ]/g,""),i=document.getElementById("ui-input-mask"),u=document.getElementById("ui-suggestion-content");$.ajax({type:"POST",url:"Search/Search@wd="+escape(n)+"",dataType:"json",async:!0,success:function(data){var obj=eval(data);obj!=null&&obj!="undefined"?($.each(obj,function(t,i){var u=i.AutoComplete;r+='<li><a href="'+f+"?wd="+u+'">'+u.replace(n,"<b>"+n+"</b>")+"</a></li>"}),r!=""?(u.innerHTML=r,i.style.display="block",window.m_search_reset.style.display="block",window.t1.setup(),window.t1.scrollTo(0,0)):i.style.display="none"):i.style.display="none"}})}var Zepto,scrollToY,Navigation;(function(n){String.prototype.trim===n&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===n&&(Array.prototype.reduce=function(t){if(this===void 0||this===null)throw new TypeError;var r=Object(this),f=r.length>>>0,i=0,u;if(typeof t!="function")throw new TypeError;if(f==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)u=arguments[1];else do{if(i in r){u=r[i++];break}if(++i>=f)throw new TypeError;}while(1);while(i<f)i in r&&(u=t.call(n,u,r[i],i,r)),i++;return u})})(),Zepto=function(){function p(n){return n==null?String(n):ft[ti.call(n)]||"object"}function s(n){return p(n)=="function"}function ut(n){return n!=null&&n==n.window}function b(n){return n!=null&&n.nodeType==n.DOCUMENT_NODE}function l(n){return p(n)=="object"}function a(n){return l(n)&&!ut(n)&&n.__proto__==Object.prototype}function w(n){return n instanceof Array}function g(n){return typeof n.length=="number"}function ui(n){return y.call(n,function(n){return n!=null})}function ii(t){return t.length>0?n.fn.concat.apply([],t):t}function v(n){return n.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function yt(n){return n in tt?tt[n]:tt[n]=new RegExp("(^|\\s)"+n+"(\\s|$)")}function pt(n,t){return typeof t=="number"&&!ni[v(n)]?t+"px":t}function hi(n){var t,i;return it[n]||(t=u.createElement(n),u.body.appendChild(t),i=nt(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),i=="none"&&(i="block"),it[n]=i),it[n]}function kt(t){return"children"in t?h.call(t.children):n.map(t.childNodes,function(n){if(n.nodeType==1)return n})}function wt(n,t,u){for(i in t)u&&(a(t[i])||w(t[i]))?(a(t[i])&&!a(n[i])&&(n[i]={}),w(t[i])&&!w(n[i])&&(n[i]=[]),wt(n[i],t[i],u)):t[i]!==r&&(n[i]=t[i])}function k(t,i){return i===r?n(t):n(t).filter(i)}function e(n,t,i,r){return s(t)?t.call(n,i,r):t}function ot(n,t,i){i==null?n.removeAttribute(t):n.setAttribute(t,i)}function c(n,t){var i=n.className,u=i&&i.baseVal!==r;if(t===r)return u?i.baseVal:i;u?i.baseVal=t:n.className=t}function bt(t){var i;try{return t?t=="true"||(t=="false"?!1:t=="null"?null:isNaN(i=Number(t))?/^[\[\{]/.test(t)?n.parseJSON(t):t:i):t}catch(r){return t}}function vt(n,t){t(n);for(var i in n.childNodes)vt(n.childNodes[i],t)}var r,i,n,o,f=[],h=f.slice,y=f.filter,u=window.document,it={},tt={},nt=u.defaultView.getComputedStyle,ni={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},ht=/^\s*<(\w+|!)[^>]*>/,fi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,st=/^(?:body|html)$/i,ri=["val","css","html","text","data","width","height","offset"],si=["after","prepend","before","append"],rt=u.createElement("table"),ct=u.createElement("tr"),lt={tr:u.createElement("tbody"),tbody:rt,thead:rt,tfoot:rt,td:ct,th:ct,"*":u.createElement("div")},ei=/complete|loaded|interactive/,oi=/^\.([\w-]+)$/,dt=/^#([\w-]*)$/,gt=/^[\w-]+$/,ft={},ti=ft.toString,t={},et,d,at=u.createElement("div");return t.matches=function(n,i){var f,e,r,u;return!n||n.nodeType!==1?!1:(f=n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.matchesSelector,f)?f.call(n,i):(r=n.parentNode,u=!r,u&&(r=at).appendChild(n),e=~t.qsa(r,i).indexOf(n),u&&at.removeChild(n),e)},et=function(n){return n.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})},d=function(n){return y.call(n,function(t,i){return n.indexOf(t)==i})},t.fragment=function(t,i,u){t.replace&&(t=t.replace(fi,"<$1></$2>")),i===r&&(i=ht.test(t)&&RegExp.$1),i in lt||(i="*");var o,e,f=lt[i];return f.innerHTML=""+t,e=n.each(h.call(f.childNodes),function(){f.removeChild(this)}),a(u)&&(o=n(e),n.each(u,function(n,t){ri.indexOf(n)>-1?o[n](t):o.attr(n,t)})),e},t.Z=function(t,i){return t=t||[],t.__proto__=n.fn,t.selector=i||"",t},t.isZ=function(n){return n instanceof t.Z},t.init=function(i,f){if(!i)return t.Z();if(s(i))return n(u).ready(i);if(t.isZ(i))return i;var e;if(w(i))e=ui(i);else if(l(i))e=[a(i)?n.extend({},i):i],i=null;else if(ht.test(i))e=t.fragment(i.trim(),RegExp.$1,f),i=null;else{if(f!==r)return n(f).find(i);e=t.qsa(u,i)}return t.Z(e,i)},n=function(n,i){return t.init(n,i)},n.extend=function(n){var i,t=h.call(arguments,1);return typeof n=="boolean"&&(i=n,n=t.shift()),t.forEach(function(t){wt(n,t,i)}),n},t.qsa=function(n,t){var i;return b(n)&&dt.test(t)?(i=n.getElementById(RegExp.$1))?[i]:[]:n.nodeType!==1&&n.nodeType!==9?[]:h.call(oi.test(t)?n.getElementsByClassName(RegExp.$1):gt.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t))},n.contains=function(n,t){return n!==t&&n.contains(t)},n.type=p,n.isFunction=s,n.isWindow=ut,n.isArray=w,n.isPlainObject=a,n.isEmptyObject=function(n){var t;for(t in n)return!1;return!0},n.inArray=function(n,t,i){return f.indexOf.call(t,n,i)},n.camelCase=et,n.trim=function(n){return n.trim()},n.uuid=0,n.support={},n.expr={},n.map=function(n,t){var i,f=[],r,u;if(g(n))for(r=0;r<n.length;r++)i=t(n[r],r),i!=null&&f.push(i);else for(u in n)i=t(n[u],u),i!=null&&f.push(i);return ii(f)},n.each=function(n,t){var i,r;if(g(n)){for(i=0;i<n.length;i++)if(t.call(n[i],i,n[i])===!1)return n}else for(r in n)if(t.call(n[r],r,n[r])===!1)return n;return n},n.grep=function(n,t){return y.call(n,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ft["[object "+t+"]"]=t.toLowerCase()}),n.fn={forEach:f.forEach,reduce:f.reduce,push:f.push,sort:f.sort,indexOf:f.indexOf,concat:f.concat,map:function(t){return n(n.map(this,function(n,i){return t.call(n,i,n)}))},slice:function(){return n(h.apply(this,arguments))},ready:function(t){return ei.test(u.readyState)?t(n):u.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(n){return n===r?h.call(this):this[n>=0?n:n+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(n){return f.every.call(this,function(t,i){return n.call(t,i,t)!==!1}),this},filter:function(i){return s(i)?this.not(this.not(i)):n(y.call(this,function(n){return t.matches(n,i)}))},add:function(t,i){return n(d(this.concat(n(t,i))))},is:function(n){return this.length>0&&t.matches(this[0],n)},not:function(t){var i=[],u;return s(t)&&t.call!==r?this.each(function(n){t.call(this,n)||i.push(this)}):(u=typeof t=="string"?this.filter(t):g(t)&&s(t.item)?h.call(t):n(t),this.forEach(function(n){u.indexOf(n)<0&&i.push(n)})),n(i)},has:function(t){return this.filter(function(){return l(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(n){return n===-1?this.slice(n):this.slice(n,+n+1)},first:function(){var t=this[0];return t&&!l(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!l(t)?t:n(t)},find:function(i){var r,u=this;return r=typeof i=="object"?n(i).filter(function(){var t=this;return f.some.call(u,function(i){return n.contains(i,t)})}):this.length==1?n(t.qsa(this[0],i)):this.map(function(){return t.qsa(this,i)}),r},closest:function(i,r){var u=this[0],f=!1;for(typeof i=="object"&&(f=n(i));u&&!(f?f.indexOf(u)>=0:t.matches(u,i));)u=u!==r&&!b(u)&&u.parentNode;return n(u)},parents:function(t){for(var r=[],i=this;i.length>0;)i=n.map(i,function(n){if((n=n.parentNode)&&!b(n)&&r.indexOf(n)<0)return r.push(n),n});return k(r,t)},parent:function(n){return k(d(this.pluck("parentNode")),n)},children:function(n){return k(this.map(function(){return kt(this)}),n)},contents:function(){return this.map(function(){return h.call(this.childNodes)})},siblings:function(n){return k(this.map(function(n,t){return y.call(kt(t.parentNode),function(n){return n!==t})}),n)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(n){return n[t]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),nt(this,"").getPropertyValue("display")=="none"&&(this.style.display=hi(this.nodeName))})},replaceWith:function(n){return this.before(n).remove()},wrap:function(t){var u=s(t),i,r;return this[0]&&!u&&(i=n(t).get(0),r=i.parentNode||this.length>1),this.each(function(f){n(this).wrapAll(u?t.call(this,f):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var i;(i=t.children()).length;)t=i.first();n(t).append(this)}return this},wrapInner:function(t){var i=s(t);return this.each(function(r){var e=n(this),f=e.contents(),u=i?t.call(this,r):t;f.length?f.wrapAll(u):e.append(u)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===r?i.css("display")=="none":t)?i.show():i.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return t===r?this.length>0?this[0].innerHTML:null:this.each(function(i){var r=this.innerHTML;n(this).empty().append(e(this,t,i,r))})},text:function(n){return n===r?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=n})},attr:function(n,t){var u;return typeof n=="string"&&t===r?this.length==0||this[0].nodeType!==1?r:n=="value"&&this[0].nodeName=="INPUT"?this.val():!(u=this[0].getAttribute(n))&&n in this[0]?this[0][n]:u:this.each(function(r){if(this.nodeType===1)if(l(n))for(i in n)ot(this,i,n[i]);else ot(this,n,e(this,t,r,this.getAttribute(n)))})},removeAttr:function(n){return this.each(function(){this.nodeType===1&&ot(this,n)})},prop:function(n,t){return t===r?this[0]&&this[0][n]:this.each(function(i){this[n]=e(this,t,i,this[n])})},data:function(n,t){var i=this.attr("data-"+v(n),t);return i!==null?bt(i):r},val:function(t){return t===r?this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(n){this.value=e(this,t,n,this.value)})},offset:function(t){if(t)return this.each(function(i){var r=n(this),o=e(this,t,i,r.offset()),f=r.offsetParent().offset(),u={top:o.top-f.top,left:o.left-f.left};r.css("position")=="static"&&(u.position="relative"),r.css(u)});if(this.length==0)return null;var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}},css:function(n,t){if(arguments.length<2&&typeof n=="string")return this[0]&&(this[0].style[et(n)]||nt(this[0],"").getPropertyValue(n));var r="";if(p(n)=="string")!t&&t!==0?this.each(function(){this.style.removeProperty(v(n))}):r=v(n)+":"+pt(n,t);else for(i in n)!n[i]&&n[i]!==0?this.each(function(){this.style.removeProperty(v(i))}):r+=v(i)+":"+pt(i,n[i])+";";return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(n){return f.some.call(this,function(n){return this.test(c(n))},yt(n))},addClass:function(t){return this.each(function(i){o=[];var r=c(this),u=e(this,t,i,r);u.split(/\s+/g).forEach(function(t){n(this).hasClass(t)||o.push(t)},this),o.length&&c(this,r+(r?" ":"")+o.join(" "))})},removeClass:function(n){return this.each(function(t){if(n===r)return c(this,"");o=c(this),e(this,n,t,o).split(/\s+/g).forEach(function(n){o=o.replace(yt(n)," ")}),c(this,o.trim())})},toggleClass:function(t,i){return this.each(function(u){var f=n(this),o=e(this,t,u,c(this));o.split(/\s+/g).forEach(function(n){(i===r?!f.hasClass(n):i)?f.addClass(n):f.removeClass(n)})})},scrollTop:function(){if(this.length)return"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY},position:function(){if(this.length){var u=this[0],r=this.offsetParent(),t=this.offset(),i=st.test(r[0].nodeName)?{top:0,left:0}:r.offset();return t.top-=parseFloat(n(u).css("margin-top"))||0,t.left-=parseFloat(n(u).css("margin-left"))||0,i.top+=parseFloat(n(r[0]).css("border-top-width"))||0,i.left+=parseFloat(n(r[0]).css("border-left-width"))||0,{top:t.top-i.top,left:t.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||u.body;t&&!st.test(t.nodeName)&&n(t).css("position")=="static";)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(t){n.fn[t]=function(i){var o,u=this[0],f=t.replace(/./,function(n){return n[0].toUpperCase()});return i===r?ut(u)?u["inner"+f]:b(u)?u.documentElement["offset"+f]:(o=this.offset())&&o[t]:this.each(function(r){u=n(this),u.css(t,e(this,i,r,u[t]()))})}}),si.forEach(function(i,r){var u=r%2;n.fn[i]=function(){var f,e=n.map(arguments,function(n){return f=p(n),f=="object"||f=="array"||n==null?n:t.fragment(n)}),i,o=this.length>1;return e.length<1?this:this.each(function(t,f){i=u?f:f.parentNode,f=r==0?f.nextSibling:r==1?f.firstChild:r==2?f:null,e.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!i)return n(t).remove();vt(i.insertBefore(t,f),function(n){n.nodeName!=null&&n.nodeName.toUpperCase()==="SCRIPT"&&(!n.type||n.type==="text/javascript")&&!n.src&&window.eval.call(window,n.innerHTML)})})})},n.fn[u?i+"To":"insert"+(r?"Before":"After")]=function(t){return n(t)[i](this),this}}),t.Z.prototype=n.fn,t.uniq=d,t.deserializeValue=bt,n.zepto=t,n}(),window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(n){function t(n){var t=this.os={},i=this.browser={},v=n.match(/WebKit\/([\d.]+)/),e=n.match(/(Android)\s+([\d.]+)/),o=n.match(/(iPad).*OS\s([\d_]+)/),l=!o&&n.match(/(iPhone\sOS)\s([\d_]+)/),r=n.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),w=r&&n.match(/TouchPad/),y=n.match(/Kindle\/([\d.]+)/),c=n.match(/Silk\/([\d._]+)/),s=n.match(/(BlackBerry).*Version\/([\d.]+)/),h=n.match(/(BB10).*Version\/([\d.]+)/),p=n.match(/(RIM\sTablet\sOS)\s([\d.]+)/),a=n.match(/PlayBook/),f=n.match(/Chrome\/([\d.]+)/)||n.match(/CriOS\/([\d.]+)/),u=n.match(/Firefox\/([\d.]+)/);(i.webkit=!!v)&&(i.version=v[1]),e&&(t.android=!0,t.version=e[2]),l&&(t.ios=t.iphone=!0,t.version=l[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),r&&(t.webos=!0,t.version=r[2]),w&&(t.touchpad=!0),s&&(t.blackberry=!0,t.version=s[2]),h&&(t.bb10=!0,t.version=h[2]),p&&(t.rimtabletos=!0,t.version=p[2]),a&&(i.playbook=!0),y&&(t.kindle=!0,t.version=y[1]),c&&(i.silk=!0,i.version=c[1]),!c&&t.android&&n.match(/Kindle Fire/)&&(i.silk=!0),f&&(i.chrome=!0,i.version=f[1]),u&&(i.firefox=!0,i.version=u[1]),t.tablet=!!(o||a||e&&!n.match(/Mobile/)||u&&n.match(/Tablet/)),t.phone=!t.tablet&&!!(e||l||r||s||h||f&&n.match(/Android/)||f&&n.match(/CriOS\/([\d.]+)/)||u&&n.match(/Mobile/))}t.call(n,navigator.userAgent),n.__detect=t}(Zepto),function(n){function t(n){return n._zid||(n._zid=d++)}function s(n,i,r,f){if(i=h(i),i.ns)var e=k(i.ns);return(u[t(n)]||[]).filter(function(n){return n&&(!i.e||n.e==i.e)&&(!i.ns||e.test(n.ns))&&(!r||t(n.fn)===t(r))&&(!f||n.sel==f)})}function h(n){var t=(""+n).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function k(n){return new RegExp("(?:^| )"+n.replace(" "," .* ?")+"(?: |$)")}function c(t,i,r){n.type(t)!="string"?n.each(t,r):t.split(/\s/).forEach(function(n){r(n,i)})}function a(n,t){return n.del&&(n.e=="focus"||n.e=="blur")||!!t}function l(n){return e[n]||n}function f(i,r,f,o,s,v){var p=t(i),y=u[p]||(u[p]=[]);c(r,f,function(t,r){var u=h(t),f;u.fn=r,u.sel=o,u.e in e&&(r=function(t){var i=t.relatedTarget;if(!i||i!==this&&!n.contains(this,i))return u.fn.apply(this,arguments)}),u.del=s&&s(r,t),f=u.del||r,u.proxy=function(n){var t=f.apply(i,[n].concat(n.data));return t===!1&&(n.preventDefault(),n.stopPropagation()),t},u.i=y.length,y.push(u),i.addEventListener(l(u.e),u.proxy,a(u,v))})}function r(n,i,r,f,e){var o=t(n);c(i||"",r,function(t,i){s(n,t,i,f).forEach(function(t){delete u[o][t.i],n.removeEventListener(l(t.e),t.proxy,a(t,e))})})}function o(t){var i,r={originalEvent:t};for(i in t)!v.test(i)&&t[i]!==undefined&&(r[i]=t[i]);return n.each(p,function(n,i){r[n]=function(){return this[i]=y,t[n].apply(t,arguments)},r[i]=w}),r}function b(n){if(!("defaultPrevented"in n)){n.defaultPrevented=!1;var t=n.preventDefault;n.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var g=n.zepto.qsa,u={},d=1,i={},e={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",n.event={add:f,remove:r},n.proxy=function(i,r){if(n.isFunction(i)){var u=function(){return i.apply(r,arguments)};return u._zid=t(i),u}if(typeof r=="string")return n.proxy(i[r],i);throw new TypeError("expected function");},n.fn.bind=function(n,t){return this.each(function(){f(this,n,t)})},n.fn.unbind=function(n,t){return this.each(function(){r(this,n,t)})},n.fn.one=function(n,t){return this.each(function(i,u){f(this,n,t,null,function(n,t){return function(){var i=n.apply(u,arguments);return r(u,t,n),i}})})};var y=function(){return!0},w=function(){return!1},v=/^([A-Z]|layer[XY]$)/,p={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};n.fn.delegate=function(t,i,r){return this.each(function(u,e){f(e,i,r,t,function(i){return function(r){var f,u=n(r.target).closest(t,e).get(0);if(u)return f=n.extend(o(r),{currentTarget:u,liveFired:e}),i.apply(u,[f].concat([].slice.call(arguments,1)))}})})},n.fn.undelegate=function(n,t,i){return this.each(function(){r(this,t,i,n)})},n.fn.live=function(t,i){return n(document.body).delegate(this.selector,t,i),this},n.fn.die=function(t,i){return n(document.body).undelegate(this.selector,t,i),this},n.fn.on=function(t,i,r){return!i||n.isFunction(i)?this.bind(t,i||r):this.delegate(i,t,r)},n.fn.off=function(t,i,r){return!i||n.isFunction(i)?this.unbind(t,i||r):this.undelegate(i,t,r)},n.fn.trigger=function(t,i){return(typeof t=="string"||n.isPlainObject(t))&&(t=n.Event(t)),b(t),t.data=i,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},n.fn.triggerHandler=function(t,i){var r,u;return this.each(function(f,e){r=o(typeof t=="string"?n.Event(t):t),r.data=i,r.target=e,n.each(s(e,t.type||t),function(n,t){return u=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),u},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){n.fn[t]=function(n){return n?this.bind(t,n):this.trigger(t)}}),["focus","blur"].forEach(function(t){n.fn[t]=function(n){return n?this.bind(t,n):this.each(function(){try{this[t]()}catch(n){}}),this}}),n.Event=function(n,t){var u,f,r;if(typeof n!="string"&&(t=n,n=t.type),u=document.createEvent(i[n]||"Events"),f=!0,t)for(r in t)r=="bubbles"?f=!!t[r]:u[r]=t[r];return u.initEvent(n,f,!0,null,null,null,null,null,null,null,null,null,null,null,null),u.isDefaultPrevented=function(){return this.defaultPrevented},u}}(Zepto),function(n){function rt(t,i,r){var u=n.Event(i);return n(t).trigger(u,r),!u.defaultPrevented}function i(n,t,i,r){if(n.global)return rt(t||a,i,r)}function ut(t){t.global&&n.active++==0&&i(t,null,"ajaxStart")}function nt(t){t.global&&!--n.active&&i(t,null,"ajaxStop")}function y(n,t){var r=t.context;if(t.beforeSend.call(r,n,t)===!1||i(t,r,"ajaxBeforeSend",[n,t])===!1)return!1;i(t,r,"ajaxSend",[n,t])}function p(n,t,r){var f=r.context,u="success";r.success.call(f,n,u,t),i(r,f,"ajaxSuccess",[t,r,n]),v(u,t,r)}function u(n,t,r,u){var f=u.context;u.error.call(f,r,t,n),i(u,f,"ajaxError",[r,u,n]),v(t,r,u)}function v(n,t,r){var u=r.context;r.complete.call(u,t,n),i(r,u,"ajaxComplete",[t,r]),nt(r)}function t(){}function tt(n){return n&&(n=n.split(";",2)[0]),n&&(n==h?"html":n==l?"json":w.test(n)?"script":b.test(n)&&"xml")||"text"}function s(n,t){return(n+"&"+t).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&n.type(t.data)!="string"&&(t.data=n.param(t.data,t.traditional)),t.data&&(!t.type||t.type.toUpperCase()=="GET")&&(t.url=s(t.url,t.data))}function r(t,i,r,u){var f=!n.isFunction(i);return{url:t,data:f?i:undefined,success:f?n.isFunction(r)?r:undefined:i,dataType:f?u||r:r}}function c(t,i,r,u){var f,e=n.isArray(i);n.each(i,function(i,o){f=n.type(o),u&&(i=r?u:u+"["+(e?"":i)+"]"),!u&&e?t.add(o.name,o.value):f=="array"||!r&&f=="object"?c(t,o,r,i):t.add(i,o)})}var g=0,a=window.document,f,o,it=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,l="application/json",h="text/html",k=/^\s*$/,e;n.active=0,n.ajaxJSONP=function(i){if("type"in i){var e="jsonp"+ ++g,o=a.createElement("script"),h=function(){clearTimeout(s),n(o).remove(),delete window[e]},r=function(n){h(),n&&n!="timeout"||(window[e]=t),u(null,n||"abort",f,i)},f={abort:r},s;return y(f,i)===!1?(r("abort"),!1):(window[e]=function(n){h(),p(n,f,i)},o.onerror=function(){r("error")},o.src=i.url.replace(/=\?/,"="+e),n("head").append(o),i.timeout>0&&(s=setTimeout(function(){r("timeout")},i.timeout)),f)}return n.ajax(i)},n.ajaxSettings={type:"GET",beforeSend:t,success:t,error:t,complete:t,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:l,xml:"application/xml, text/xml",html:h,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},n.ajax=function(i){var r=n.extend({},i||{}),h,a,v;for(f in n.ajaxSettings)r[f]===undefined&&(r[f]=n.ajaxSettings[f]);if(ut(r),r.crossDomain||(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=window.location.host),r.url||(r.url=window.location.toString()),d(r),r.cache===!1&&(r.url=s(r.url,"_="+Date.now())),h=r.dataType,a=/=\?/.test(r.url),h=="jsonp"||a)return a||(r.url=s(r.url,"callback=?")),n.ajaxJSONP(r);var c=r.accepts[h],l={},b=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,e=r.xhr(),w;r.crossDomain||(l["X-Requested-With"]="XMLHttpRequest"),c&&(l.Accept=c,c.indexOf(",")>-1&&(c=c.split(",",2)[0]),e.overrideMimeType&&e.overrideMimeType(c)),(r.contentType||r.contentType!==!1&&r.data&&r.type.toUpperCase()!="GET")&&(l["Content-Type"]=r.contentType||"application/x-www-form-urlencoded"),r.headers=n.extend(l,r.headers||{}),e.onreadystatechange=function(){if(e.readyState==4){e.onreadystatechange=t,clearTimeout(w);var i,f=!1;if(e.status>=200&&e.status<300||e.status==304||e.status==0&&b=="file:"){h=h||tt(e.getResponseHeader("content-type")),i=e.responseText;try{h=="script"?eval(i):h=="xml"?i=e.responseXML:h=="json"&&(i=k.test(i)?null:n.parseJSON(i))}catch(o){f=o}f?u(f,"parsererror",e,r):p(i,e,r)}else u(null,e.status?"error":"abort",e,r)}},v="async"in r?r.async:!0,e.open(r.type,r.url,v);for(o in r.headers)e.setRequestHeader(o,r.headers[o]);return y(e,r)===!1?(e.abort(),!1):(r.timeout>0&&(w=setTimeout(function(){e.onreadystatechange=t,e.abort(),u(null,"timeout",e,r)},r.timeout)),e.send(r.data?r.data:null),e)},n.get=function(){return n.ajax(r.apply(null,arguments))},n.post=function(){var e=r.apply(null,arguments);return e.type="POST",n.ajax(e)},n.getJSON=function(){var f=r.apply(null,arguments);return f.dataType="json",n.ajax(f)},n.fn.load=function(t,i,u){if(!this.length)return this;var h=this,o=t.split(/\s/),e,f=r(t,i,u),s=f.success;return o.length>1&&(f.url=o[0],e=o[1]),f.success=function(t){h.html(e?n("<div>").html(t.replace(it,"")).find(e):t),s&&s.apply(h,arguments)},n.ajax(f),this},e=encodeURIComponent,n.param=function(n,t){var i=[];return i.add=function(n,t){this.push(e(n)+"="+e(t))},c(i,n,t),i.join("&").replace(/%20/g,"+")}}(Zepto),function(n){n.fn.serializeArray=function(){var i=[],t;return n(Array.prototype.slice.call(this.get(0).elements)).each(function(){t=n(this);var r=t.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&r!="submit"&&r!="reset"&&r!="button"&&(r!="radio"&&r!="checkbox"||this.checked)&&i.push({name:t.attr("name"),value:t.val()})}),i},n.fn.serialize=function(){var n=[];return this.serializeArray().forEach(function(t){n.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),n.join("&")},n.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var i=n.Event("submit");this.eq(0).trigger(i),i.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(n,t){function b(n){return o(n.replace(/([a-z])([A-Z])/,"$1-$2"))}function o(n){return n.toLowerCase()}function a(n){return u?u+n:o(n)}var i="",u,d,g,w={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},p=window.document,e=p.createElement("div"),k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,f,c,s,h,v,y,l,r={};n.each(w,function(n,r){if(e.style[n+"TransitionProperty"]!==t)return i="-"+o(n)+"-",u=r,!1}),f=i+"transform",r[c=i+"transition-property"]=r[s=i+"transition-duration"]=r[h=i+"transition-timing-function"]=r[v=i+"animation-name"]=r[y=i+"animation-duration"]=r[l=i+"animation-timing-function"]="",n.fx={off:u===t&&e.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:i,transitionEnd:a("TransitionEnd"),animationEnd:a("AnimationEnd")},n.fn.animate=function(t,i,r,u){return n.isPlainObject(i)&&(r=i.easing,u=i.complete,i=i.duration),i&&(i=(typeof i=="number"?i:n.fx.speeds[i]||n.fx.speeds._default)/1e3),this.anim(t,i,r,u)},n.fn.anim=function(i,u,e,o){var p,a={},d,nt="",tt=this,w,g=n.fx.transitionEnd;if(u===t&&(u=.4),n.fx.off&&(u=0),typeof i=="string")a[v]=i,a[y]=u+"s",a[l]=e||"linear",g=n.fx.animationEnd;else{d=[];for(p in i)k.test(p)?nt+=p+"("+i[p]+") ":(a[p]=i[p],d.push(b(p)));nt&&(a[f]=nt,d.push(f)),u>0&&typeof i=="object"&&(a[c]=d.join(", "),a[s]=u+"s",a[h]=e||"linear")}return w=function(t){if(typeof t!="undefined"){if(t.target!==t.currentTarget)return;n(t.target).unbind(g,w)}n(this).css(r),o&&o.call(this)},u>0&&this.bind(g,w),this.size()&&this.get(0).clientLeft,this.css(a),u<=0&&setTimeout(function(){tt.each(function(){w.call(this)})},0),this},e=null}(Zepto),TouchScroll.prototype={_default:{id:"slider",width:4,minLength:20,opacity:.8,onscroll:new Function,ondrag:new Function,color:"black",mouseAlign:1},instances:[],$:function(n){return document.getElementById(n)},$C:function(n,t){var r=document.createElement(n)||null,i;if(t=Object.prototype.toString.call(t)=="[object Object]"?t:{},r)for(i in t)i=="style"?r.style.cssText+=t[i]:r.setAttribute(i,t[i]);return r},css:function(){var n=function(n){var i,t;switch(n){case"float":return"cssFloat"in document.body.style?"cssFloat":"styleFloat";case"opacity":return"opacity"in document.body.style?"opacity":{get:function(n,t){var i=t.filter;return i&&i.indexOf("opacity")>=0&&parseFloat(i.match(/opacity=([^)]*)/i)[1])/100+""||"1"},set:function(n,t){n.style.filter="alpha(opacity="+t*100+")",n.style.zoom=1}};default:for(i=n.split("-"),t=1;t<i.length;t++)i[t]=i[t].substring(0,1).toUpperCase()+i[t].substring(1);return n=i.join(""),n}},i=function(t,i){var r,u;return i=n(i),r=t.style[i],r||(u=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(t,null)||t.currentStyle||t.style,r=typeof i=="string"?u[i]:i.get(t,u)),r=="auto"?"":r},t=function(t,i){var u,r;for(r in i)u=n(r),typeof u=="string"?t.style[u]=i[r]:u.set(t,i[r])};return function(n,r){return typeof r=="string"?i(n,r):t(n,r)}}(),parseArgs:function(n){var i={},r=Object.prototype.toString,t;if(n&&r.call(n)=="[object Object]")for(t in this._default)i[t]=typeof n[t]=="undefined"?this._default[t]:r.call(this._default[t])=="[object Number]"?parseInt(parseFloat(n[t])*100)/100:n[t];else i=this._default;return i},addListener:function(n,t,i,r){return n.addEventListener?(n.addEventListener(t,i,r),!0):n.attachEvent?(n.attachEvent("on"+t,i),!0):!1},getPoint:function(n){n=n||window.event;var r=y=0,u=this.supportsTouches&&n.touches.length?n.touches[0]:n,t=document.documentElement,i=document.body;return window.pageXOffset?(r=window.pageXOffset,y=window.pageYOffset):(r=(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),y=(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)),r+=u.clientX,y+=u.clientY,{x:r,y:y}},preventDefault:function(n){window.event?window.event.returnValue=!1:n.preventDefault()},contains:function(n,t){return n.contains?n!=t&&n.contains(t):!!(n.compareDocumentPosition(t)&16)},bind:function(n,t){return function(){return n.apply(t,arguments)}},deleteAll:function(){for(var n=0;n<arguments.length;n++)delete this[arguments[n]]},fixedMouse:function(n,t){var i,r=n.type.toLowerCase();if(r=="mouseover")i=n.relatedTarget||n.fromElement;else{if(!(r="mouseout"))return!0;i=n.relatedTarget||n.toElement}return!i||i.prefix!="xul"&&!this.contains(t,i)&&i!==t},setup:function(){var n=document.documentElement||document.getElementsByTagName("html")[0];this.supportsTouches="createTouch"in document||"ontouchstart"in window,this.supportsTransition="WebkitTransition"in n.style||"MsTransition"in n.style||"MozTransition"in n.style||"OTransition"in n.style||"transition"in n.style,this.startEvent=this.supportsTouches?"touchstart":"mousedown",this.moveEvent=this.supportsTouches?"touchmove":"mousemove",this.endEvent=this.supportsTouches?"touchend":"mouseup",this.overEvent=this.supportsTouches?"touchstart":"mouseover",this.outEvent=this.supportsTouches?"touchend":"mouseout",this.property=[["left","right","width","clientWidth","scrollWidth","horizontalBar","horizontalScrollBar"],["top","bottom","height","clientHeight","scrollHeight","verticalBar","verticalScrollBar"]],this.timer=[null,null],this.resize(),this.addListener(window,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.addListener(document,this.moveEvent,this.bind(this.move,this),!1),this.addListener(document,this.endEvent,this.bind(this.end,this),!1),this.addListener(this.container,"touchcancel",this.bind(this.end,this),!1),this.addListener(this.container,this.overEvent,this.bind(this.toggleShow,this),!1),this.addListener(this.container,this.outEvent,this.bind(this.toggleShow,this),!1),this.addListener(this.container,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.container,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)},clear:function(){if(this.element){for(this.css(this.container,{visibility:"hidden"});this.element.childNodes.length;)this.container.appendChild(this.element.firstChild);this.container.removeChild(this.wrapper),this.container.scrollLeft=-this.ratio0*(this.container.scrollWidth-this.container.clientWidth),this.container.scrollTop=-this.ratio1*(this.container.scrollHeight-this.container.clientHeight),this.wrapper=this.element=this.horizontalBar=this.verticalBar=this.horizontalScrollBar=this.verticalScrollBar=null,this.css(this.container,{visibility:"visible"})}},resize:function(){var n,t;this.clear();var i=parseInt(this.css(this.container,"padding-left"))+parseInt(this.css(this.container,"padding-right")),u=parseInt(this.css(this.container,"padding-top"))+parseInt(this.css(this.container,"padding-bottom")),f=this.container.offsetWidth-(parseInt(this.css(this.container,"border-left-width"))||0)-(parseInt(this.css(this.container,"border-right-width"))||0)-this.container.clientWidth,r=this.container.offsetHeight-(parseInt(this.css(this.container,"border-top-width"))||0)-(parseInt(this.css(this.container,"border-bottom-width"))||0)-this.container.clientHeight;for(this.clientWidth=this.container.clientWidth-i+f,this.clientHeight=this.container.clientHeight-u+r,this.scrollWidth=this.container.scrollWidth-i,this.scrollHeight=this.container.scrollHeight-u,this.element=this.$C("div",{"class":"touchscrollelement",style:";overflow:hidden;width:"+this.scrollWidth+"px;padding:"+parseInt(r/2)+"px "+parseInt(f/2)+"px;position:absolute;top:-"+this.container.scrollTop+"px;left:-"+this.container.scrollLeft+"px;"}),this.wrapper=this.$C("div",{"class":"touchscrollwrapper",style:";overflow:hidden;position:relative;width:100%;height:"+this.clientHeight+"px;"});this.container.childNodes.length;)this.element.appendChild(this.container.firstChild);this.wrapper.appendChild(this.element),n=";opacity:0;filter:alpha(opacity=0);position:absolute;overflow:hidden;-webkit-transition:opacity 400ms ease-out;-moz-transition:opacity 400ms ease-out;-o-transition:opacity 400ms ease-out;-ms-transition:opacity 400ms ease-out;transition:opacity 400ms ease-out;",t=";position:absolute;width:100%;height:100%;top:0;left:0;background-color:"+this.cfg.color+";-webkit-border-radius:"+this.cfg.width+"px;-moz-border-radius:"+this.cfg.width+"px;border-radius:"+this.cfg.width+"px;",this.horizontalBar=this.$C("div",{"class":"touchscrollhorizontal",style:n}),this.verticalBar=this.$C("div",{"class":"touchscrollvertical",style:n}),this.horizontalScrollBar=this.$C("div",{"class":"touchscrollbar horizontal",style:t}),this.verticalScrollBar=this.$C("div",{"class":"touchscrollbar vertical",style:t}),this.horizontalBar.appendChild(this.horizontalScrollBar),this.verticalBar.appendChild(this.verticalScrollBar),this.wrapper.appendChild(this.horizontalBar),this.wrapper.appendChild(this.verticalBar),this.css(this.horizontalBar,{display:this.scrollWidth>this.clientWidth?"block":"none",width:this.clientWidth+"px",left:0,bottom:0,height:this.cfg.width+"px"}),this.css(this.verticalBar,{display:this.scrollHeight>this.clientHeight?"block":"none",height:this.clientHeight+"px",right:0,top:0,width:this.cfg.width+"px"}),this.container.appendChild(this.wrapper),this.scrollHeight=Math.max(this.scrollHeight,this.element.clientHeight),this.scrollWidth=Math.max(this.scrollWidth,this.element.clientWidth),this.refresh(0),this.refresh(1),this.addListener(this.wrapper,this.startEvent,this.bind(this.start,this),!1)},refresh:function(n,t){n=!!parseInt(n)*1;var u,i,l,e,f,h,s,o,r,c;o=this[this.property[n][6]],u=this[this.property[n][4]],i=this[this.property[n][3]],l=Math.max(this.cfg.width,this.cfg.minLength),r=parseInt(this.css(this.element,this.property[n][0])),c=u==i?0:parseInt(r/(u-i)*1e3)/1e3,e=Math.max(parseInt(i*i/u),l),r>0?(f=Math.max(this.cfg.width,e-r/i*e),h=0,s="auto"):r<=i-u?(f=Math.max(this.cfg.width,(u+r)/i*e),h="auto",s=0):(f=e,h=-r/(u-i||1)*(i-f)+"px",s="auto"),o.style[this.property[n][2]]=f+"px",o.style[this.property[n][0]]=h,o.style[this.property[n][1]]=s,this["ratio"+n]=c,t&&(this.css(this[this.property[n][5]],{opacity:this.cfg.opacity}),this.css(this[this.property[1-n][5]],{opacity:0})),this.cfg.onscroll.call(this,null)},toggleShow:function(n){if(n=n||window.event,this.wrapper&&(this.fixedMouse(n,this.container)||this.supportsTouches)){var i=n.type,t=0;switch(i){case this.overEvent:t=this.cfg.opacity,this.mouseEnter=!0;break;case this.outEvent:this.mouseEnter=!1;break;default:return!1}this.during||(this.css(this.horizontalBar,{opacity:t}),this.css(this.verticalBar,{opacity:t}))}},_scroll:function(n,t){var e,u=40,i,f,r,o,h,s,t;r=0,e=parseInt(this.css(this.element,this.property[n][0])),f=this[this.property[n][4]]-this[this.property[n][3]],i=e+t,i>0?i>u?(t=u-e,r=-u):r=-i:i<-f&&(i<-f-u?(t=-f-u-e,r=u):r=-f-i),o=400*Math.abs(t)/(Math.abs(t)+Math.abs(r)),s=function(){this.slide(n,r,400-o,"ease-in-out")},this.slide(n,t,o,h,s)},scroll:function(){for(var i=0;i<arguments.length;i++)this._scroll(i,arguments[i])},scrollTo:function(n,t){this.css(this.element,{left:-n+"px",top:-t+"px"}),this.refresh(0),this.refresh(1)},slide:function(n,t,i,r,u){function c(n,t,i,r,u){var f;switch(u){case"ease-in-out":f=(n/=r/2)<1?i/2*n*n*n+t:i/2*((n-=2)*n*n+2)+t;break;default:f=-i*((n=n/r-1)*n*n*n-1)+t}return f}function h(){t&&e<s?(e+=10,f.element.style[f.property[n][0]]=c(e,o,a,s,l)+"px",f.timer[n]=setTimeout(h,10),f.refresh(n,!0)):(f.during=!1,f.element.style[f.property[n][0]]=o+t+"px",!f.mouseEnter&&!u&&(f.css(f.horizontalBar,{opacity:0}),f.css(f.verticalBar,{opacity:0})),f.refresh(n),v.call(f,null)),f.deleteAll("timer"+n)}var f=this,v=u||new Function,o=parseInt(this.css(this.element,this.property[n][0])),a=t,e=0,s=i||400,l=r||"ease-out";this.during=!0,clearTimeout(this.timer[n]),h()},start:function(n){clearTimeout(this.timer[0]),clearTimeout(this.timer[1]),this.supportsTouches||this.preventDefault(n),this.element.onclick=null;var t=n&&n.target||window.event.srcElement;t.nodeType==3&&(t=t.parentNode),this.target=t==this.wrapper||t==this.element||this.contains(this.element,t)?0:1,this.startPos=this.getPoint(n),this.elementRect=[parseInt(this.css(this.element,"left")),parseInt(this.css(this.element,"top"))],this.disc=[[new Date],[this.startPos]]},move:function(n){var i,t,r,u,f;!this.disc||n.touches&&n.touches.length>1||n.scale&&n.scale!==1||(this.endPos=this.getPoint(n),i=[this.endPos.x-this.startPos.x,this.endPos.y-this.startPos.y],u=1,typeof this.flag=="undefined"&&(this.flag=this.scrollWidth>this.clientWidth&&Math.abs(i[0])>=Math.abs(i[1])?0:this.scrollHeight>this.clientHeight&&Math.abs(i[1])>=Math.abs(i[0])?1:!1),this.flag!==!1)&&(this.preventDefault(n),this.during=!0,r=this[this.property[this.flag][4]]-this[this.property[this.flag][3]],this.target&&(f=parseInt(this.css(this[this.property[this.flag][6]],this.property[this.flag][2])),u=-r/(this[this.property[this.flag][3]]-f)),t=this.elementRect[this.flag]+i[this.flag]*u,t>0?t/=t/this[this.property[this.flag][3]]+1:t<-r&&(t+=r,t=t/(Math.abs(t)/this[this.property[this.flag][3]]+1)-r),this.element.style[this.property[this.flag][0]]=t+"px",this.refresh(this.flag,!0),this.disc[0].push(new Date),this.disc[1].push(this.endPos))},end:function(){if(this.disc){if(typeof this.flag=="number"){var t,i,f,e,r,o,u;if(t=0,u=this[this.property[this.flag][4]]-this[this.property[this.flag][3]],i=parseInt(this.css(this.element,this.property[this.flag][0])),i>0)t=-i;else if(i<-u)t=-u-i;else if(!this.target){for(f=new Date;this.disc[0].length&&f-this.disc[0][0]>200;)this.disc[0].shift(),this.disc[1].shift();this.disc[0].length&&(o=f-this.disc[0][0],e=[this.endPos.x-this.disc[1][0].x,this.endPos.y-this.disc[1][0].y],r=e[this.flag],Math.abs(r)>20&&(t=(2-o/200)*r))}this.cfg.ondrag.call(this,this.flag,t)!==!1&&this._scroll(this.flag,t),this.element.onclick=new Function("return false;")}this.deleteAll("startPos","endPos","disc","flag","target","elementRect")}},mouseScroll:function(n){this.preventDefault(n),n=n||window.event;var t=n.wheelDelta||n.detail&&n.detail*-1||0,r=120,u=this.cfg.mouseAlign,i;this.wrapper&&t&&(i=t/Math.abs(t),this._scroll(u,i*r))}},window.TouchScroll=TouchScroll,function(n){"use strict";var h="createTouch"in document||"ontouchstart"in n,o=document.createElement("div").style,f=function(){var t={OTransform:["-o-","otransitionend"],WebkitTransform:["-webkit-","webkitTransitionEnd"],MozTransform:["-moz-","transitionend"],msTransform:["-ms-","MSTransitionEnd"],transform:["","transitionend"]},n;for(n in t)if(n in o)return t[n];return!1}(),i=[["width","left","right"],["height","top","bottom"]],s=f&&f[0],u=function(n){return(n+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/ig,function(n,t){return(t+"").toUpperCase()})},y=function(n){var t=u(s+n);return n in o&&n||t in o&&t},a=function(n,t){for(var i in t)typeof n[i]=="undefined"&&(n[i]=t[i]);return n},l=function(n){for(var i=n.children||n.childNodes,r=[],t=0;t<i.length;t++)i[t].nodeType===1&&r.push(i[t]);return r},e=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break},c=function(n){n=r.fn.eventHook(n),n.preventDefault()},v=f[1]||"",r=function(n,t){if(!(this instanceof r))return new r(n,t);typeof n=="string"||n.nodeType||(t=n,n=t.id),n.nodeType||(n=document.getElementById(n)),this.cfg=a(t||{},this._default),this.element=n,this.element&&(this.container=this.element.parentNode||document.body,this.setup())};r.fn=r.prototype={version:"1.3.1",_default:{id:"slider",begin:0,auto:!0,speed:600,timeout:5e3,direction:"left",align:"center",fixWidth:!0,mouseWheel:!1,mouseDrag:!0,before:new Function,after:new Function},css:function(n,t){var f,i,r;if(typeof t=="string")return f=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(n,null)||n.currentStyle||n.style||{},f[u(t)];for(i in t)r=i=="float"?"cssFloat"in o?"cssFloat":"styleFloat":u(i),n.style[r]=t[i]},addListener:function(n,t,i,r){return n.addEventListener?(n.addEventListener(t,i,r),!0):n.attachEvent?(n.attachEvent("on"+t,i),!0):!1},removeListener:function(n,t,i,r){return n.addEventListener?(n.removeEventListener(t,i,r),!0):n.attachEvent?(n.detachEvent("on"+t,i),!0):!1},eventHook:function(t){var i={},f="changedTouches touches scale target view which clientX clientY fromElement offsetX offsetY pageX pageY toElement".split(" "),r,u;return t=t||n.event,e(f,function(){i[this]=t[this]}),i.target=t.target||t.srcElement||document,i.target.nodeType===3&&(i.target=i.target.parentNode),i.preventDefault=function(){t.preventDefault&&t.preventDefault(),i.returnValue=t.returnValue=!1},i.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),i.cancelBubble=t.cancelBubble=!0},h&&i.touches.length?(i.pageX=i.touches.item(0).pageX,i.pageY=i.touches.item(0).pageY):typeof t.pageX=="undefined"&&(r=document.documentElement,u=document.body,i.pageX=t.clientX+(r&&r.scrollLeft||u&&u.scrollLeft||0)-(r&&r.clientLeft||u&&u.clientLeft||0),i.pageY=t.clientY+(r&&r.scrollTop||u&&u.scrollTop||0)-(r&&r.clientTop||u&&u.clientTop||0)),i.origEvent=t,i},bind:function(n,t){return function(){return n.apply(t,arguments)}},setup:function(){var t=h||!this.cfg.mouseDrag,u=t?"touchstart":"mousedown",r=t?"touchmove":"mousemove",i=t?"touchend":"mouseup";if(this.slides=l(this.element),this.length=this.slides.length,this.cfg.timeout=parseInt(this.cfg.timeout),this.cfg.speed=parseInt(this.cfg.speed),this.cfg.begin=parseInt(this.cfg.begin),this.cfg.auto=!!this.cfg.auto,this.cfg.timeout=Math.max(this.cfg.timeout,this.cfg.speed),this.touching=!!h,this.css3transition=!!f,this.index=this.cfg.begin<0||this.cfg.begin>=this.length?0:this.cfg.begin,this.length<1)return!1;switch(this.cfg.direction){case"up":case"down":this.direction=this.cfg.direction,this.vertical=1;break;case"right":this.direction="right";default:this.direction=this.direction||"left",this.vertical=0}this.addListener(this.element,u,this.bind(this._start,this),!1),this.addListener(document,r,this.bind(this._move,this),!1),this.addListener(document,i,this.bind(this._end,this),!1),this.addListener(document,"touchcancel",this.bind(this._end,this),!1),this.addListener(this.element,v,this.bind(this.transitionend,this),!1),this.addListener(n,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.cfg.mouseWheel&&(this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)),this.playing=this.cfg.auto,this.resize()},getSum:function(n,t,i){for(var f=0,r=t,e=u("-"+n);r<i;r++)f+=this["getOuter"+e](this.slides[r]);return f},getPos:function(n,t){var r=u("-"+n),f=this.getSum(n,t,t+1),i=this.getSum(n,0,t)+this["getOuter"+r](this.element)/2-this["get"+r](this.element)/2;switch(this.cfg.align){case"left":return-i;case"right":return this[n]-f-i;default:return(this[n]-f)/2-i}},resize:function(){clearTimeout(this.aniTimer);var r=this,n,t=i[this.vertical][0],f=u("-"+t),o=this.css(this.container,"position");return this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:o=="static"?"relative":o}),this[t]=this["get"+f](this.container),n={float:this.vertical?"none":"left",display:"block"},e(this.slides,function(){r.cfg.fixWidth&&(n[t]=r[t]-r["margin"+f](this)-r["padding"+f](this)-r["border"+f](this)+"px"),r.css(this,n)}),this.total=this.getSum(t,0,this.length),n={position:"relative",overflow:"hidden"},n[s+"transition-duration"]="0ms",n[t]=this.total+"px",n[i[this.vertical][1]]=this.length?this.getPos(t,this.index)+"px":0,this.css(this.element,n),this.css(this.container,{visibility:"visible"}),this.playing&&this.play(),this},slide:function(n,t){var r=i[this.vertical][1],a=i[this.vertical][0],w=y("transition"),p=parseFloat(this.css(this.element,r))||0,e,s={},u,v=this.getSum(a,n,n+1),l;if(n=Math.min(Math.max(0,n),this.length-1),t=typeof t=="undefined"?this.cfg.speed:parseInt(t),e=this.getPos(a,n),u=e-p,t=Math.abs(u)<v?Math.ceil(Math.abs(u)/v*t):t,w)s[w]=r+" ease "+t+"ms",s[r]=e+"px",this.css(this.element,s);else{var f=this,o=0,h=t/10,b=function(n,t,i,r){return-i*((n=n/r-1)*n*n*n-1)+t},c=function(){o<h?(o++,f.element.style[r]=Math.ceil(b(o,p,u,h))+"px",f.aniTimer=setTimeout(c,10)):(f.element.style[r]=e+"px",f.transitionend({propertyName:r}))};clearTimeout(this.aniTimer),c()}return l=this.slides[this.index],this.index=n,this.cfg.before.call(this,n,l),this},play:function(){return clearTimeout(this.timer),this.playing=!0,this.timer=setTimeout(this.bind(function(){this.direction=="left"||this.direction=="up"?this.next():this.prev()},this),this.cfg.timeout),this},pause:function(){return clearTimeout(this.timer),this.playing=!1,this},stop:function(){return this.pause(),this.slide(0)},prev:function(n,t){clearTimeout(this.timer);var i=this.index;return n=typeof n=="undefined"?n=1:n%this.length,i-=n,i=t===!1?Math.max(i,0):i<0?this.length+i:i,this.slide(i)},next:function(n,t){clearTimeout(this.timer);var i=this.index;return typeof n=="undefined"&&(n=1),i+=n,t===!1?i=Math.min(i,this.length-1):i%=this.length,this.slide(i)},_start:function(n){n=this.eventHook(n);var t=n.target.nodeName.toLowerCase();this.touching||t!="a"&&t!="img"||n.preventDefault(),this.removeListener(this.element,"click",c),this.startPos=[n.pageX,n.pageY],this.element.style[u(s+"transition-duration")]="0ms",this.startTime=+new Date,this._pos=parseFloat(this.css(this.element,i[this.vertical][1]))||0},_move:function(t){if(this.startPos&&(!t.scale||t.scale===1)){t=this.eventHook(t),this.stopPos=[t.pageX,t.pageY];var u,f=i[this.vertical][1],e=i[this.vertical][0],r=this.stopPos[this.vertical]-this.startPos[this.vertical];this.scrolling||typeof this.scrolling=="undefined"&&Math.abs(r)>=Math.abs(this.stopPos[1-this.vertical]-this.startPos[1-this.vertical])?(t.preventDefault(),r=r/(!this.index&&r>0||this.index==this.length-1&&r<0?Math.abs(r)/this[e]+1:1),this.element.style[f]=this._pos+r+"px",n.getSelection!=null&&(u=getSelection(),u.empty?u.empty():u.removeAllRanges&&u.removeAllRanges()),r&&typeof this.scrolling=="undefined"&&(this.scrolling=!0,clearTimeout(this.timer),clearTimeout(this.aniTimer))):this.scrolling=!1}},_end:function(){if(this.startPos){if(this.scrolling){var e=i[this.vertical][0],a=i[this.vertical][1],u=this.stopPos[this.vertical]-this.startPos[this.vertical],h=Math.abs(u),o=h/u,l,s,f,t=this.index,r=0;if(this.addListener(this.element,"click",c),h>20){s=parseFloat(this.css(this.element,i[this.vertical][1]));do if(t>=0&&t<this.length)f=this.getPos(e,t),l=this.getSum(e,t,t+1);else{t+=o;break}while(Math.abs(f-s)>l/2&&(t-=o));r=Math.abs(t-this.index),!r&&+new Date-this.startTime<250&&(r=1)}u>0?this.prev(r,!1):this.next(r,!1),this.playing&&this.play()}delete this._pos,delete this.stopPos,delete this.startPos,delete this.scrolling,delete this.startTime}},mouseScroll:function(n){if(this.cfg.mouseWheel){n=this.eventHook(n);var f=this,t=n.origEvent,u=0,i=0,r;if("wheelDeltaX"in t)u=t.wheelDeltaX,i=t.wheelDeltaY;else if("wheelDelta"in t)i=t.wheelDelta;else if("detail"in t)i=-t.detail;else return;!this.vertical&&Math.abs(u)>Math.abs(i)?r=u:i&&(!t.wheelDeltaX||this.vertical&&Math.abs(u)<Math.abs(i))&&(r=i),r&&(n.preventDefault(),clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){r>0?f.prev(1,!1):f.next(1,!1)},100))}},transitionend:function(n){n.propertyName==i[this.vertical][1]&&(this.cfg.after.call(this,this.index,this.slides[this.index]),this.playing&&this.play())},refresh:function(){this.direction==null?this.setup():(this.slides=l(this.element),this.length=this.slides.length,this.index=Math.max(Math.min(this.length-1,this.index),0),this.resize())},append:function(n){this.element.appendChild(n),this.refresh()},prepend:function(n){this.length?this.insertBefore(n,0):this.append(n)},insertBefore:function(n,t){this.element.insertBefore(n,this.slides[t]),this.index>=t&&this.index++,this.refresh()},remove:function(n){this.element.removeChild(this.slides[n]),this.index>=n&&this.index--,this.refresh()}},e(["Width","Height"],function(n,t){var u=t.toLowerCase();e(["margin","padding","border"],function(u,f){r.fn[f+t]=function(t){return(parseFloat(this.css(t,f+"-"+i[n][1]+(f=="border"?"-width":"")))||0)+(parseFloat(this.css(t,f+"-"+i[n][2]+(f=="border"?"-width":"")))||0)}}),r.fn["get"+t]=function(n){return n["offset"+t]-this["padding"+t](n)-this["border"+t](n)},r.fn["getOuter"+t]=function(n){return n["offset"+t]+this["margin"+t](n)}}),n.TouchSlider=r}(window),think.prototype.$=function(n){return document.getElementById(n)},think.prototype.getElementPos=function(n){var u=navigator.userAgent.toLowerCase(),h=u.indexOf("opera")!=-1,c=u.indexOf("msie")!=-1&&!h,t,i,r,o,f,e,s;if(n.parentNode===null||n.style.display=="none")return!1;if(t=null,i=[],n.getBoundingClientRect)return r=n.getBoundingClientRect(),o=Math.max(document.documentElement.scrollTop,document.body.scrollTop),f=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),{x:r.left+f,y:r.top+o};if(document.getBoxObjectFor)r=document.getBoxObjectFor(n),e=n.style.borderLeftWidth?parseInt(n.style.borderLeftWidth):0,s=n.style.borderTopWidth?parseInt(n.style.borderTopWidth):0,i=[r.x-e,r.y-s];else{if(i=[n.offsetLeft,n.offsetTop],t=n.offsetParent,t!=n)while(t)i[0]+=t.offsetLeft,i[1]+=t.offsetTop,t=t.offsetParent;(u.indexOf("opera")!=-1||u.indexOf("safari")!=-1&&n.style.position=="absolute")&&(i[0]-=document.body.offsetLeft,i[1]-=document.body.offsetTop)}for(t=n.parentNode?n.parentNode:null;t&&t.tagName!="BODY"&&t.tagName!="HTML";)i[0]-=t.scrollLeft,i[1]-=t.scrollTop,t=t.parentNode?t.parentNode:null;return{x:i[0],y:i[1]}},think.prototype.init=function(){if(mo.inputBox.indexOf("#")==0)mo.$(mo.inputBox).addEventListener("keyup",function(){mo.jsonp(this.value)},!1);else if(mo.inputBox.indexOf(".")==0){mo.inputBox=mo.inputBox.replace(/^\./,"");var n=document.getElementsByClassName(mo.inputBox);(function(){for(var t in n)try{n[t].addEventListener("keyup",function(){if(mo.checkInput(this.value)){var t=mo.getElementPos(this);t.y+=mo.h,mo.$("ui-input-mask").style.top=t.y+"px",mo.jsonp(this.value)}else mo.$("ui-input-mask").style.display="none"},!1),n[t].addEventListener("focus",function(){if(mo.checkInput(this.value)){var t=mo.getElementPos(this);t.y+=mo.h,mo.$("ui-input-mask").style.top=t.y+"px",mo.jsonp(this.value)}},!1)}catch(i){}})()}mo.$("close-input-mask").addEventListener("click",function(){mo.$("ui-input-mask").style.display="none"},!1)},think.prototype.checkInput=function(n){return n.replace(/^\s+|\s+$/,"")!=""&&(/[\u4E00-\u9FFF]{2,}/.test(n)||/.{6,}/.test(n))},String.format=function(){var t,n,i;if(arguments.length==0)return null;for(t=arguments[0],n=1;n<arguments.length;n++)i=new RegExp("\\{"+(n-1)+"\\}","gm"),t=t.replace(i,arguments[n]);return t},Date.prototype.pattern=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},r={"0":"/u65e5","1":"/u4e00","2":"/u4e8c","3":"/u4e09","4":"/u56db","5":"/u4e94","6":"/u516d"},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+r[this.getDay()+""]));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};var getSize=function(n,t){var u,o;if(getStyle(n,"display")!="none")return{width:n.offsetWidth||getStyleNum(n,"width"),height:n.offsetHeight||getStyleNum(n,"height")};var e={display:"",position:"absolute",visibility:"hidden"},s={display:"",position:"static",visibility:"hidden"},f={},r={};for(i in e)f[i]=getStyle(n,i),r[i]=getStyle(t,i);return setStyle(n,e),setStyle(t,s),u=n.clientWidth||getStyleNum(n,"width"),o=n.clientHeight||getStyleNum(n,"height"),setStyle(n,f),setStyle(t,r),{width:u,height:o}},getType=function(n){var t;return((t=typeof n)=="object"?n==null&&"null"||Object.prototype.toString.call(n).slice(8,-1):t).toLowerCase()},setStyle=function(n,t){var r,i,u;if(getType(t)=="object")for(window.s in t){for(r=window.s.split("-"),i=1;i<r.length;i++)r[i]=r[i].replace(r[i].charAt(0),r[i].charAt(0).toUpperCase());u=r.join(""),n.style[u]=t[window.s]}else getType(t)=="string"&&(n.style.cssText=t)},getStyle=function(n,t){return n.style[t]?n.style[t]:n.currentStyle?n.currentStyle[t]:window.getComputedStyle(n,null)[t]},getStyleNum=function(n,t){return parseInt(getStyle(n,t).replace(/px|pt|em/ig,""))};window.HTMLElement.prototype.slideDown=function(n,t){var i=this,u,r,f;clearInterval(i.slideFun),u=t,r=0,i.style.height="0px",i.style.display="block",i.style.overflow="hidden",f=0,i.slideFun=setInterval(function(){f+=2,r=r+t/f,r>u&&(r=u),i.style.height=r+"px",r>=u&&(window.pagenavi!=null&&(window.t||(window.t=new TouchSlider({id:"slider_box",speed:200,timeout:6e3,auto:!1,before:function(n){window.as&&(window.as[active].className="",active=n,window.as[active].className="current")}}))),i.style.removeProperty("overflow"),clearInterval(i.slideFun))},n)},window.HTMLElement.prototype.slideUp=function(n,t){var i=this,f,r,u;clearInterval(i.slideFun),f=t,r=f,i.style.overflow="hidden",u=0,i.slideFun=setInterval(function(){u+=2,r-=t/u,r<0&&(r=0),i.style.height=r+"px",r<=0&&(i.style.display="none",i.style.removeProperty("overflow"),window.more.className=window.more.className.replace(" on",""),clearInterval(i.slideFun))},n)},scrollToY=function(){var t=this,i,n;clearInterval(t.scrollFun),i=window.scrollY,n=i,t.scrollFun=setInterval(function(){n-=i/50,n<=0&&(n=0),window.scrollTo(0,n),n<=0&&clearInterval(t.scrollFun)},1)},window.onscroll=function(){var n;document.body.scrollTop>100?(n=document.getElementsByClassName("go_top")[0],n&&n.style.display=="none"&&(n.style.display="block")):(n=document.getElementsByClassName("go_top")[0],n&&n.style.display=="block"&&(n.style.display="none"))},Navigation={box:null,content:null,prevX:0,touchSatrtFunc:function(n){try{Navigation.prevX=Number(n.touches[0].pageX)}catch(t){}},touchMoveFunc:function(n){try{n.preventDefault();var r=Number(n.touches[0].pageX),i=parseInt(Navigation.content.style.left==""?"0":Navigation.content.style.left.replace("px","")),t=r-Navigation.prevX;if(t>0){if(i+t>0)return!1;Navigation.content.style.left=i+t+"px"}if(t<0){if(t=t*-1,i*-1+100>Navigation.content.offsetWidth)return!1;Navigation.content.style.left=i-t+"px"}Navigation.prevX=r}catch(u){alert(u)}return!1},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}},bindEvent:function(){Navigation.box.addEventListener("touchstart",Navigation.touchSatrtFunc,!1),Navigation.box.addEventListener("touchmove",Navigation.touchMoveFunc,!1)},init:function(){var t,n;if(Navigation.box=document.getElementById("m_site_box"),Navigation.content=document.getElementById("m_site"),Navigation.box&&Navigation.content){if(Navigation.content.offsetWidth<Navigation.content.parentElement.clientWidth){Navigation.content.style.width=Navigation.content.parentElement.clientWidth+"px";return}for(t=0,n=0;n<Navigation.content.childNodes.length;n++)Navigation.content.childNodes[n].tagName=="SPAN"&&(t+=10),t+=Navigation.content.childNodes[n].offsetWidth;Navigation.content.style.width=t+"px",Navigation.isTouchDevice()&&Navigation.bindEvent()}}},window.addEventListener("load",Navigation.init,!1)